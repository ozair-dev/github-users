var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,i=(t,r,s)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s,o=(e,t)=>{for(var r in t||(t={}))a.call(t,r)&&i(e,r,t[r]);if(s)for(var r of s(t))n.call(t,r)&&i(e,r,t[r]);return e};import{c as l,a as c,s as d,u,j as h,b as p,r as m,d as f,A as g,F as v,e as b,f as y,g as N,R as w,h as S,P as j}from"./vendor.79eb7352.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const O=l("user/fetchUser",(async e=>{const t=await fetch(`https://api.github.com/users/${e}`),{name:r,login:s,html_url:a,avatar_url:n,followers:i,public_repos:o}=await t.json(),l=await fetch(`https://api.github.com/users/${e}/repos`);return{user:{name:r,username:s,avatar:n,url:a,followers:i,reposCount:o},repos:(await l.json()).sort(((e,t)=>new Date(t.created_at)-new Date(e.created_at))).slice(0,4).map((({name:e,html_url:t})=>({name:e,url:t})))}})),C=l("user/toggledNight",(async(e,t)=>{const{night:r}=t.getState();localStorage.setItem("night",!r)})),k=c({name:"user",initialState:{status:"idle",night:!1},reducers:{resetSearch:(e,t)=>{delete e.user,delete e.repos}},extraReducers:e=>{e.addCase(O.pending,((e,t)=>{e.status="loading"})).addCase(O.fulfilled,((e,s)=>{return o((a=o({},e),t(a,r({status:"idle"}))),s.payload);var a})).addCase(O.rejected,((e,t)=>{e.status="idle",d("No results were found for this username")})).addCase(C.fulfilled,((e,t)=>{e.night=!e.night}))}}),{resetSearch:_}=k.actions;var P=k.reducer;const I=e=>{const t=u();return o({},e),h("div",{className:"navbar",children:[p("p",{children:"InfoHub"}),p("div",{onClick:()=>t(C()),className:"toggle-day-night",children:p("div",{})})]})},D=()=>{const[e,t]=m.exports.useState(""),r=f((e=>e.status)),s=u();return h("form",{className:"search-div",onSubmit:t=>{t.preventDefault(),e&&s(O(e))},children:[p("input",{onChange:e=>t(e.target.value),value:e,placeholder:"Enter username"}),p("button",{type:"button",onClick:()=>{t(""),s(_())},className:"cancel-search-button",children:p(g,{})}),h("button",{type:"submit",disabled:"idle"!==r,className:"search-button",children:[p(v,{className:b("search-icon",{hidden:"idle"!==r})}),p(y,{className:b("loading-icon",{hidden:"idle"===r})})]})]})},E=e=>{const t=f((e=>e.status));return h("div",{className:b("skeleton",{hidden:"idle"===t}),children:[p("div",{className:"skeleton-image"}),h("div",{className:"skeleton-info",children:[p("div",{}),p("div",{}),p("div",{}),p("div",{})]})]})},L=e=>{const{user:t,status:r}=o({},e);return t&&"idle"===r?h("div",{className:"info-div",children:[p("a",{href:t.url,target:"_black",children:p("img",{src:t.avatar,alt:t.username})}),h("p",{children:["Name: ",t.name]}),h("p",{children:["Username: ",t.username]}),h("p",{children:["Followers: ",t.followers]}),h("p",{children:["Repositories Count: ",t.reposCount]})]}):null},R=e=>{const t=f((e=>e.repos)),{status:r}=o({},e);return t&&"idle"===r?h("div",{className:"repos",children:[p("p",{children:"Top Repositories"}),p("ul",{children:t.map(((e,t)=>p("li",{children:p("a",{href:e.url,rel:"noreferrer",target:"_blank",children:e.name})},t)))})]}):null};function x(){const e=f((e=>e.user)),t=f((e=>e.night)),r=f((e=>e.status));return h("div",{className:b("app",{night:t}),children:[p(I,{night:t}),p(D,{}),p(E,{}),p(L,{status:r,user:e}),p(R,{status:r,user:e})]})}const A=N({reducer:P,preloadedState:function(){try{const e=JSON.parse(localStorage.getItem("night"));return e?{status:"idle",night:e}:void 0}catch(e){return}}()});w.render(p(S.StrictMode,{children:p(j,{store:A,children:p(x,{})})}),document.getElementById("root"));
